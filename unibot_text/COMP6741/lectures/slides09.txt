
9.39
PubMed
doc = nlp("This is a sentence.")
Information Overload
Text Mining
Gefitinib can treat tumors w. EGFR-L858E mutation
JUN expression
Transducer-based NE Detection
Example
• Disadvantages:
So you want to build a Text Mining system. . .
Lemmatization is the process of deriving the base form, or lemma, of a word from
Language dependent code
9.58
woman from St. Bernard St. on the Gulf of Mexico.
doc = nlp.make_doc("This is a sentence")
https://spacy.io/usage/spacy- 101#architecture
Tokenization
Physical Quantity 3fold
Impact Expression increase
#https://www.wikidata.org/wiki/Q12525597 12525597
https://www.refinitiv.com/perspectives/ai- digitalization/four- ways- to- apply- nlp- in- financial- services/
Determiner describes the particular reference of a noun
• spaCy has a built-in explanation method:
Pronoun word that can take the place of a noun
Architecture 2.0
Correct sentence boundary is important
Introduction
Example GATE Pipeline
)?
(HEAD (NN) . . .)
• typically indicates changes in case, gender, number, tense, etc.
genus︷ ︸︸ ︷
• Cloud APIs are another option (convenient, but added cost and confidentiality
9.37
• Transformation-based Taggers (e.g., the Brill tagger)
SMAD3 to form
Rule: PersonTitle
NP Bracketing plastic cat food can cover
You can disable components you don’t need:
• What to do with hyphens?
(CONTROL) >SpaceToken;kind=control;
Stemming
Tokenization
• [PS12, Chapter 6] (Annotation and Adjudication)
O’Reilly, 2012.
Priority Pattern
Impact Mutant Q15K-W37R and mutant Q15R-W37R showed. . .
A tagset defines the tags to assign to words. Main POS classes are:
3 (SPECIES) (STRAINKEYWORD) (STRAIN)
Adds over one million every year
Machine learning: train a machine learning model, using manually annotated
If one → problems in parsing (where’s the verb?)
NLP Tools: programs performing a single task, like classifiers, parsers, or NP
NLP Libraries: collection of algorithms and resources for various tasks and
(TITLE)+
23
Understanding POS Tags
9.54
Training phase where a manually annotated corpus is processed by a machine
• word tokens
See https://spacy.io/usage/processing-pipelines
Development Frameworks
1 (FULLNAME) (STRAINKEYWORD)? (STRAIN) (STRAINKEYWORD)?
Pipelines
#https://www.wikidata.org/wiki/Q194318 194318
Development Frameworks
intermediate processing steps to acquire more and more structure. Next stop:
learning algorithm; and a
Morphological Analysis
(https://universaldependencies.org/u/pos/)
for many downstream analysis tasks:
Sentence Splitting
9.30
Parsing is hard due to many kinds of ambiguities:
• We now have electronic books, documents, web pages, emails, blogs, news,
• less errors than in stemming
https://www.youtube.com/watch?v=_RIBf01nxI0
Adverb describes a verb, an adjective or another adverb
POS-Tagging
Example: Scientific
• But humans did not scale so well. . .
for chunk in doc.noun_chunks:
a lexicon
To rule or not to rule...
Example Output
organism mention
9.22
Protein property activity
(Aspergillus)
Required
#whitespace#
A black cat plays. . . → A/DT black/JJ cat/NN plays/VB. . .
9.35
chats, memos, research papers, . . .
Lemmatization reduce words to their lemma
9.19
9.41
As well as resources for concrete tasks and languages:
(MOD (MOD-ingredients)
typically requires a lexicon.
Sentence Splitting (a.k.a. Sentence Segmentation)
He ate spaghetti with tomato sauce.
https://www.refinitiv.com/perspectives/ai-digitalization/four-ways-to-apply-nlp-in-financial-services/
Verb Groups (VGs) within a sentence
9.43
Chunking vs. Parsing
9.50
9.63
Supplemental
bad tokenization, wrong sentence splits, errors in POS tagging, . . .
→ Worksheet #8: Task 7
• We have mature tools&resources to build robust, scalable systems now
Base
sent._.linkedEntities.pretty_print()
• While stemming is good enough for Information Retrieval, Text Mining often
9.17
Finding Organisms: Rule matching
There is a multitude of approaches, commonly used are:
(NP) chunks are very useful in finding named entities (NEs), e.g., Persons,
Mining Health Documents
Morphology
• UIMA (Unstructured Information Management Architecture), developed by IBM;
• ML solutions generally perform better (more robust with respect to variations)
variations as possible, with as few false positives as possible
Named Entity Recognition
• relies on different word order probabilities
uploads/prod/2018/01/1802_aaai-tutorial_precision-med.pdf
POS Tagging in spaCy
• Includes slides from Matthew Honnibal & Ines Montani, An introduction to
Purple: Protein property, Green: Physical quantity)
species︷ ︸︸ ︷
9.25
Morphology
example is not in any list, it can be
bootstrapping a ML corpus, easy (unambiguous) patterns
nlp.add_pipe(my_component, name="print_info", last=True)
Fortunately, you don’t have to start from scratch
• Can be achieved with rule-based algorithms, usually based on suffix-stripping
Pipelines
| INITIALS2)
PMID: 456
Language Technology (LT)
Unfortunately, even tokenization can be difficult:
Entity Detection: Finding Persons
Architecture 1.0
open-sourced in 2007 (Apache project)
((FIRSTNAME | FIRSTNAMEAMBIG
Coreference Resolution Engines, Summarizers, . . .
"pipeline": ["tagger", "parser", "ner"]
https://concordiauniversity.on.worldcat.org/oclc/1102387045
• But many steps require language-specific data, such as rules or pre-trained ML
Resources: for various languages, like lexicons, wordnets, grammars, or
• POS-Taggers maximize probabilites of tags within a sentence
as effort for feature engineering, training, evaluation, etc.
am I?,” “Am I alive?” flittered across the screen.
1995 at University of Sheffield, UK
https://uima.apache.org/d/ruta-current/tools.ruta.book.html
examples (supervised learning)
Producing a full parse tree often fails due to grammatical inaccuracies, novel words,
POS-Tagging assigns a part-of-speech-tag (POS tag) to each Token.
He ate spaghetti with a fork.
Rule-based: write rules (regular expressions, transducers) that capture as many
9.64
9.29
If two → what do we do with John’s house?
POS-Tagging.
SMAD3/4
→ Worksheet #8: Task 2
9.31
• Advantages: simple & fast
• we can detect common abbreviations (“U.S.”), but what if a sentence ends with
strain︷ ︸︸ ︷
print("After tokenization, this doc has {} tokens.".format(len(doc)))
Literature. Masters thesis, Concordia University. https://spectrum.library.concordia.ca/35931/]
https://catalog.ldc.upenn.edu/LDC2013T19
all_linked_entities=doc._.linkedEntities
Reading for Precision Medicine, https://www.microsoft.com/en-us/research/
. . . glutathione S-transferase (GST) fusion proteins in Escherichia
species︷︸︸︷
())
9.32
army, arm → arm
Example for a detected Person
Parsing producing a parse tree for a sentence using a parser, a grammar, and
https://pypi.org/project/spacy-entity-linker/
https://spectrum.library.concordia.ca/35931/
Pipeline Step: POS Tagging
)
is induced by
Finding Syntactic Structures
Splitters, Part-of-Speech (POS) Taggers, Finite-State Transducers, Full
Enzyme glutathione S-transferase (GST)
• Most Parsers work on individual sentences
Query Interface (https://www.semanticsoftware.info/omm-query)
Pipelines in spaCy (contd.)
She yelled “It’s right here!” but I kept looking for a sentence boundary
9.53
Fundamentals
The part-of-speech tags are: [’DET’, ’AUX’, ’DET’, ’NOUN’, ’PUNCT’]
NLP Development
chunkers
9.49
Slides Credit
Processing a text will then apply each component in the pipeline in turn:
the Brill tagger
Chunking and Parsing
PP-Attachement which NP takes the PP? Compare:
Example: Scientific Literature Mining
print(token.text, token.pos_, token.tag_)
COMP 474/6741, Winter 2022
I went to G.T.You?
9.62
Pipelines in spaCy
Part-of-Speech (POS) Tagging (II)
Silvester the day celebrated on 31 December (Roman Catholic Church) or 2 January (Eastern Orthodox Churches)
https://spacy.io/usage/spacy-101#architecture
What can we do with chunks?
• An estimated 80–85% of all data stored in databases are natural language texts
Part-of-Speech (POS) Tagging
Stemming vs. Lemmatization
https://web.stanford.edu/~jurafsky/slp3/
• Includes slides from Hoifung Poon, Chris Quirk & Scott Wen-Tau Yih, Machine
import spacy
9.46
See some experimental development code using Wikidata at
for sent in doc.sents:
Sentence Splitting
various sources (files, DBs, email, . . .)
Developing Rules
After tokenization, this doc has 5 tokens.
Producing POS Annotations
chunk.root.head.text)
NLP Pipeline in GATE
Text Mining in Science
Text Mining
{Token.category == DT}|
The author wrote “’I don’t think it’s conscious.’ Turing said.”
Person patterns, as well as
old genus name︷ ︸︸ ︷
9.16
9.1
Where are we now?
9.2
2 Natural Language Processing (NLP)
Example Tokenisation Rules
Consistent tokenization is important for all later processing steps
Text Analytics for Health (Microsoft Developer)
• Advantages:
Named Entity Recognition in spaCy
• Support Vector Machines (SVM)
Department of Computer Science
"DECIMAL_DIGIT_NUMBER"+ >Token;kind=number;
Speech and Language Processing.
{Token.category == RB}
Example GATE Pipeline
Part-of-Speech (POS) Tagging
Two important frameworks are:
Copyright 2011, 2019 The Apache Software Foundation, https://uima.apache.org/d/ruta- current/tools.ruta.book.html
Manning Publications Co., 2019.
9.44
print(ent.text, ent.start_char, ent.end_char, ent.label_)
one?
Words are changed through a morphological process called inflection:
• There are different tagsets used by different tools
Detects sentence units. Easy case:
for ent in doc.ents:
Language Models
Third Edition draft, Jan 12, 2022.
2 (GENUS) (STRAINKEYWORD)? (STRAIN)
What is a word?
9.52
from SpacyEntityLinker import EntityLinker
An NLP system requires a large amount of infrastructure work:
• GATE (General Architecture for Text Engineering), under development since
We can now look at the grammar rules that found this person.
Tagsets
9.21
• Many businesses are still not aware of the potentials in analyzing their
https://www.microsoft.com/en-us/research/uploads/prod/2018/01/1802_aaai-tutorial_precision-med.pdf
Parsers, Classifiers, Noun Phrase Chunkers, Lemmatizers, Entity Taggers,
• often, sentences end with “.”, “!”, or “?”
(SPACE_SEPARATOR) >SpaceToken;kind=space;
NLP
spacy.explain("NNP")
What we are looking for?
// a number is any combination of digits
• although the last name in the
Priority: 35
9.65
Notes and Further Reading
Knowledge Worker DocumentsNLP Pipeline
doc = nlp(u"Apple is looking at buying U.K. startup")
• . . .
doc = nlp("Autonomous cars shift insurance liability toward manufacturers")
• Which organism is this protein coming from?
9.24
Excerpts from PubMed journal PMID:14592457
[Naderi, Nona (2011) Automated Extraction of Protein Mutation Impacts from the Biomedical
Entity Linking
additional first name/last name rule
Goal: “normalize” words
NP Chunking in spaCy
print(nlp.pipe_names)
• Sentences can be nested (e.g., within quotes)
Literature Mining
Pirates of the Caribbean Series of fantasy adventure films
languages
nlp = spacy.load("en_core_web_sm")
Morphological Variants
9.48
Organism Entity Detection
• Grammar files and Language models
Algorithms used in POS-Tagging
• Often reduces different words to the same stem, e.g.,
A statistical POS Tagger scans tokens and assigns POS Tags.
(not shown)
• Machine Learning Algorithms
• Some parts of spaCy work language-independent
• Rules are “brittle”, they do not generalize well
print("This is a pretty short document.")
Example NLP Pipeline
We can now start a syntactic analysis of a sentence using:
entityLinker = EntityLinker()
(
9.11
• Can create words that do not exist in the language, e.g., computers → comput
27 million abstracts
9.66
https://concordiauniversity.on.worldcat.org/oclc/801812987.
found based on its POS tag and an
Parse trees can help in determining these relationships
Grounding to a Knowledge Base
• space tokens
“. . .announced today by the U.S. The. . .
[JM], Figure 14.1→ Worksheet #8: Task 6
POS tags & dependencies
nidulans︸ ︷︷ ︸
Mark Sentence Boundaries
an increase in activity 3fold over that of the wild type.
Two new abstracts every minute
[LHH19] Hobson Lane, Cole Howard, and Hannes Max Hapke.
Requirements
Stemming and Lemmatization
29
Pipeline Step: Named Entity (NE) Detection
Example: Tumor Board KB Curation
graph, formed by the tokens, POS tags, dependency information, etc.
Main difference: stemming just finds any base form, which doesn’t even need to be
• Standard algorithm for English: the Porter stemmer
Concordia University
pre-trained models.
Q15K-W37R and mutant Q15R-W37R showed comparable activ-
• Decision Trees
Natural Language Processing in Action.
ity for NAD and NADP with an increase in activity nearly 3fold over
Some difficult examples for sentence splitting
POS Tagging Algorithms
#numbers#
Stemming vs. Lemmatization, Part II
for token in doc:
doc = nlp("I watched the Pirates of the Carribean last silvester")
Language Technology (LT)
• Increasing use of Deep Learning tools/frameworks for NLP
for name, proc in nlp.pipeline:
Many (open source) tools and resources are available:
• example car → cars, give → gives, gave, given
[’tagger’, ’parser’, ’ner’, ’print_info’]
doc = nlp(u"Let's go to N.Y.!")
doc = proc(doc)
POS tags), ANNIE now runs a sequence of JAPE-Transducers to detect Named
Example output
• Of course, some tasks are still complex R&D problems
https://www.semanticsoftware.info/omm-query
print("The part-of-speech tags are:", [token.pos_ for token in doc])
Using all the information obtained in the previous steps (Tokens, Gazetteer lookups,
From Natural Language Processing with Python, by Steven Bird, Ewan Klein and Edward Loper, Copyright 2019 the authors. It is distributed with the Natural Language Toolkit [http://nltk.org/], Version 3.0, under the terms of the Creative Commons Attribution-Noncommercial-No
9.12
Note: real tagsets have from 45 (Penn Treebank) to 146 tags (C7).
9.20
morphological analysis.
return doc
for token in doc:
one of its inflected forms. This requires a morphological analysis, which in turn
print([token.text for token in doc])
Too much (textual) information
coli
→ Worksheet #8: Task 5
(MOD-ingredients MOD)
Example Pipeline
print(chunk.text, chunk.root.text, chunk.root.dep_,
• more complex than stemming, slower
Lemmatization
Tagging algorithm that processes texts using learned parameters.
9.18
Derivative Works 3.0 United States License [http://creativecommons.org/licenses/by-nc-nd/3.0/us/].
• But a ML approach requires significant effort for creating training data, as well
→ Worksheet #8: Task 1
Commonly used in Information Retrieval:
• Rules can be developed quickly: good for proof-of-concept/demo,
Mining Health Documents
Gazetteer lookup information
• Numerous NLP libraries: NLTK (Python), Stanford CoreNLP, OpenNLP. . .
Rule-based approach for finding NPs
Hard (or annoying) cases:
• needs a manually tagged corpus for machine learning
But additional methods are needed for finding relations:
References
A simple “info” component
Output
• Practice: Unlike using regular expressions matching only the text, we match a
Two main approaches to normalization:
Natural Language Annotation for Machine Learning.
Need to load a language model to start, e.g., for English:
A JAPE grammar rule combines
patients, while the L858E point mutation on exon-21 was noted in 10.
Strategy
Writing a spaCy component
information rage)
• what to do with “C++”, “A/C”, “:-)”, “. . .”?
Verb describes actions, activities and states
9.33
And of course add your own components (here at the end):
9.57
Which entities are detected?
Part-of-Speech (POS)
Persons with Titles
coli and purified by GSH–agarose affinity chromatography. Mutant
anyway.
Companies, Locations, Patents, Organisms, . . ..
• Stemming for other languages: Lucene and Snowball stemmer have rule files
Existing Resources
Syntax: Chunking and Parsing
nlp = spacy.load("en_core_web_sm", disable=["parser"])
I live in the U.S. but I commute to work in Mexico on S.V. Australis for a
def my_component(doc):
Entities (NE)s.
• Still a long way to go to an understanding of natural language. . .
9.45
• E.g., spaCy trained on the OntoNotes-5.0 corpus
• etc.
• Component implementations for standard tasks, like Tokenizers, Sentence
• Depends on the model and its training data
• [LHH19, Chapter 11] (Information extraction)
stocks, stockings → stock
Constituent-based Parse Tree vs. Dependency Parsing
• What company created product Y that is doomed to fail?
Outline
Entity Linking
Pipeline Step: Tokenization
Entity Models
• . . . all of it immediately accessible, thanks to databases and Information
Mutation Q15K/W37R,Q15R/W37R
4 Notes and Further Reading
9.5
Preposition expresses spatial or time relationships
DocumentsKnowledge Worker
In NLP, we generally use Finite-state Transducers (FSTs) for processing rules.
How to find a new kind of Named Entity (NE)?
Parsing Challenges
Working with pipelines
Both frameworks are open source (GATE: LGPL, UIMA: Apache)
Retrieval (IR)
Stemming reduce words to a base form
[PS12] James Pustejovsky and Amber Stubbs.
Notes and Further
9.38
and resources of an NLP system
9.47
(Orange: Mutation, Red: Enzyme, Blue: Organism, Violet: Impact expression,
• Keras/TensorFlow, PyTorch etc.
E.g., database vs. data-base vs. data base
• number tokens
General Architecture for Text Engineering (GATE)
Building a text mining system
• Hidden Markov Models (HMMs)
9.61
1 Introduction
9.56
• Evaluation Metrics
Emericella
Knowledge
https://concordiauniversity.on.worldcat.org/oclc/1102387045.
René Witte
Chunking finding syntactic constituents like Noun Phrases (NPs) or
• Lexicons, WordNets
9.10
Natural Language Processing (NLP)
Text Mining Applications
https://spacy.io/usage/processing-pipelines
documents (automation, knowledge discovery)
XLl-Blue︸ ︷︷ ︸
Results in the common perception of Information Overload (or even
→ Worksheet #8: Task 3
Libraries
Current Trends
Adjective describes the properties of nouns or pronouns
if len(doc) < 10:
9.9
→ Worksheet #8: Task 4
9.15
> noun, proper singular
9.59
9.42
Note: this is not parsing!
#OUTPUT:
Grammar Excerpt
normalization.
All patients were treated with gefitinib and showed a partial response.
Finite-state Transducers
spaCy provides an API for linking entities to a knowledge base, but (currently) no
[JM] Daniel Jurafsky and James H. Martin.
Organizations, Dates, Addresses, . . .
Reading Material
doc = nlp("Apple is looking at buying U.K. startup for $1 billion")
Noun Phrase Chunking
(NP (DET MOD HEAD))
Organism Escherichia coli
9.3
VDR+ binds to
Example: Scientific Literature Mining
Text Mining Applications
Introduction
• Document handling, in various formats (plain text, HTML, XML, PDF, . . .), from
{Token.category == PRP}|
requires lemmatization
9.60
• Prototyping a basic system demo can be done “in hours”
:person --> ...
9.27
for many languages
• Who invented X?
(UPPER)
9.55
Applications
9.36
Lecture 9
• Various integrations (e.g, CoreNLP has GATE wrapper, Python bindings)
https://universaldependencies.org/u/pos/
Machine Reading
Two general solutions:
Chunking vs. Parsing, Round 2
Pros&Cons
Summary: spaCy Architecture
concerns)
• identifies the lemma (root form), which is an actual word
https://www.tm-town.com/natural-language-processing#golden_rules
print(token.text, token.lemma_, token.pos_, token.tag_, token.dep_,
So far, we splitted texts into tokens and sentences and performed some
#returns all entities in the whole document
Frameworks: integration architectures for combining and controlling all components
The deletion mutation on exon-19 of EGFR gene was present in 16
See https://en.wikipedia.org/wiki/Sentence_boundary_disambiguation
(PERSONENDING)?
Summary
4 (GENUS) ("(")(GENUS)(")") (SPECIES) (STRAINKEYWORD)? (STRAIN) (STRAINKEYWORD)?
• [JM, Chapter 14] (Dependency Parsing)
• Semantics is more important (we need to distinguish an army and an arm!)
“MR. X”, “3.14”, “Y Corp.”, . . .
models
BRENDA (BRaunschweig ENzyme DAtabase)
3 Text Mining Applications
and Software Engineering
PMID: 123
• spaCy uses the Universal Dependency Scheme
https://en.wikipedia.org/wiki/Sentence_boundary_disambiguation
that of the wild type.
“Show me all protein mutations that impacted the protein property affinity”
Text Mining Biomedical Literature for Protein Mutations
• Annotation handling (stand-off markup)
• GATE comes with the Hepple tagger for English, which is a modified version of
(https://catalog.ldc.upenn.edu/LDC2013T19)
Typical approach in text mining: deal with the complexity of language by applying
• many additional rules for other
(PREFIX)*
…
9.28
9.4
• Theory: Special kind of finite-state machine with input and output tape
information obtained from POS-tags with
Chunking and Parsing
Copyright 2019 by Manning Publications Co., [LHH19]
POS-Tagging generally requires:
9.34
pre-trained ML models
Parsing “I prefer the morning flight through Denver.”
9.14
• Rules are language-dependent
I stared dumbfounded on as things like “How did I get here?,” “Where
Text is split into basic units called Tokens:
Summary
9.40
Unstructured Information Management Architecture (UIMA)
Hence, chunking and partial parsing are more commonly used.
Organism Examples
Escherichia
https://web.stanford.edu/~jurafsky/slp3/.
https://spacy.io/
• Errors in low-level components can multiply when running downstream
This is a pretty short document.
nlp.add_pipe(my_component, name="My new component", last=True)
5 (GENUS) (SPECIES) (SUBSPECIES) (STRAIN)?
9.23
Reading
Loading a model defines the pipeline to be used in its metadata:
Language Models
nlp.add_pipe(entityLinker, last=True, name="entityLinker")
token.shape_, token.is_alpha, token.is_stop)
• Is “John’s” in John’s sick one token or two?
NLP Applications
Tagging
Text Mining in Science
a word in the language! Lemmatization find the actual root of a word, but requires
NP Chunker
Named Entity Recognition
Noun refers to entities like people, places, things or ideas
• difficult when a “.” do not indicate an EOS:
→ Worksheet #8: Task 8
21
spaCy,
Major Frameworks
• requires additional language-dependent resources
Performance is generally good (around 96%) when staying in the same domain.
https://github.com/explosion/talks/blob/master/2017-08-28_spaCy-101.pdf
https://concordiauniversity.on.worldcat.org/oclc/801812987
